"1","<!-- KNITR_ASIS_OUTPUT_TOKEN -->
<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuYWxwaGFWaXIkdmlydXMgPC0gZmFjdG9yKGFscGhhVmlyJHZpcnVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscyA9IGMoXCJIdW1hbiBtZXRhcG5ldW1vdmlydXNcIixcIkh1bWFuIHJoaW5vdmlydXNcIixcIkluZmx1ZW56YSBBXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlBhcmFpbmZsdWVuemEgdmlydXMgMVwiLFwiUGFyYWluZmx1ZW56YSB2aXJ1cyAyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlBhcmFpbmZsdWVuemEgdmlydXMgM1wiLFwiUGFyYWluZmx1ZW56YSB2aXJ1cyA0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJlc3BpcmF0b3J5IHN5bmN5dGlhbCB2aXJ1c1wiLFwiU2Vhc29uYWwgaHVtYW4gY29yb25hdmlydXMgMjI5RVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTZWFzb25hbCBodW1hbiBjb3JvbmF2aXJ1cyBPQzQzXCIsXCJOb25lXCIpKVxuXG5tZXRyaWNzXG5cbmRpdmxhYnMgPC0gYyhcInNpbnVzXCIgPSBcIlNpbnVzXCIsXG4gICAgICAgICAgICAgXCJzcHV0dW1cIiA9IFwiU3B1dHVtXCIsXG4gICAgICAgICAgICAgXCJPYnNlcnZlZFwiID0gXCJPYnNlcnZlZFwiLFxuICAgICAgICAgICAgIFwiQ2hhbzFcIiA9IFwiQ2hhbzFcIixcbiAgICAgICAgICAgICBcInNlLmNoYW8xXCIgPSBcIlNFIENoYW8xXCIsXG4gICAgICAgICAgICAgXCJTaGFubm9uXCIgPSBcIlNoYW5ub25cIixcbiAgICAgICAgICAgICBcIlNpbXBzb25cIiA9IFwiU2ltcHNvblwiKVxuXG5hbHBoYVZpciAlPiVcbiAgcGl2b3RfbG9uZ2VyKGNvbHMgPSBjKFwiT2JzZXJ2ZWRcIixcIkNoYW8xXCIsXCJzZS5jaGFvMVwiLFwiU2hhbm5vblwiLFwiU2ltcHNvblwiKSxcbiAgICAgICAgICAgICAgIG5hbWVzX3RvID0gXCJtZXRyaWNcIixcbiAgICAgICAgICAgICAgIHZhbHVlc190byA9IFwiZGl2ZXJzaXR5XCIpIC0+IGFscGhhVmlyXG5cbmdncGxvdChkYXRhID0gYWxwaGFWaXIgJT4lXG4gICAgICAgICAgIGZpbHRlcighaXMubmEodmlydXMuYmluKSkgJT4lXG4gICAgICAgICBmaWx0ZXIobWV0cmljICE9IFwic2UuY2hhbzFcIiksXG4gICAgICAgICBhZXMoeCA9IHZpcnVzLmJpbixcbiAgICAgICAgICAgICB5ID0gZGl2ZXJzaXR5LFxuICAgICAgICAgICAgIHNoYXBlID0gdmlydXMuYmluLFxuICAgICAgICAgICAgIGNvbG9yID0gdmlydXMuYmluKSkgK1xuICBnZW9tX2JveHBsb3QoKSArXG4gICAgc2NhbGVfY29sb3JfbWFudWFsKG5hbWUgPSBcIlJlc3BpcmF0b3J5IHZpcmFsXFxuaW5mZWN0aW9uIHN0YXR1c1wiLFxuICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gYyhcImdyZXk0OFwiLFwicmVkXCIpKSArXG4gIGZhY2V0X2dyaWQoY29scyA9IHZhcnMoc2FtcGxlbG9jKSxcbiAgICAgICAgICAgICByb3dzID0gdmFycyhtZXRyaWMpLFxuICAgICAgICAgICAgIHNjYWxlcyA9IFwiZnJlZV95XCIsXG4gICAgICAgICAgICAgbGFiZWxsZXIgPSBhc19sYWJlbGxlcihkaXZsYWJzKSkgK1xuICB0aGVtZShzdHJpcC5iYWNrZ3JvdW5kID0gZWxlbWVudF9yZWN0KGZpbGwgPSBcIndoaXRlXCIpLFxuICAgICAgICBsZWdlbmQucG9zaXRpb24gPSBcIm5vbmVcIixcbiAgICAgICAgYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoYW5nbGUgPSA0NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGp1c3QgPSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2anVzdCA9IDEpLFxuICAgICAgICBheGlzLnRpdGxlLnggPSBlbGVtZW50X2JsYW5rKCksXG4gICAgICAgIGF4aXMudGl0bGUueSA9IGVsZW1lbnRfYmxhbmsoKSkgLT4gZGl2UGxvdFxuXG5kaXZQbG90XG5cbmdnc2F2ZShwbG90ID0gZGl2UGxvdCxcbiAgICAgICBcImRpdmVyc2l0eS5tZXRyaWNzLnBsb3RzLnRpZmZcIixcbiAgICAgICBoZWlnaHQgPSAxMixcbiAgICAgICB3aWR0aCA9IDgsXG4gICAgICAgdW5pdHMgPSBjKFwiaW5cIikpXG5gYGAifQ== -->

```r
alphaVir$virus <- factor(alphaVir$virus,
                         levels = c(\"Human metapneumovirus\",\"Human rhinovirus\",\"Influenza A\",
                                    \"Parainfluenza virus 1\",\"Parainfluenza virus 2\",
                                    \"Parainfluenza virus 3\",\"Parainfluenza virus 4\",
                                    \"Respiratory syncytial virus\",\"Seasonal human coronavirus 229E\",
                                    \"Seasonal human coronavirus OC43\",\"None\"))

metrics

divlabs <- c(\"sinus\" = \"Sinus\",
             \"sputum\" = \"Sputum\",
             \"Observed\" = \"Observed\",
             \"Chao1\" = \"Chao1\",
             \"se.chao1\" = \"SE Chao1\",
             \"Shannon\" = \"Shannon\",
             \"Simpson\" = \"Simpson\")

alphaVir %>%
  pivot_longer(cols = c(\"Observed\",\"Chao1\",\"se.chao1\",\"Shannon\",\"Simpson\"),
               names_to = \"metric\",
               values_to = \"diversity\") -> alphaVir

ggplot(data = alphaVir %>%
           filter(!is.na(virus.bin)) %>%
         filter(metric != \"se.chao1\"),
         aes(x = virus.bin,
             y = diversity,
             shape = virus.bin,
             color = virus.bin)) +
  geom_boxplot() +
    scale_color_manual(name = \"Respiratory viral\ninfection status\",
                     values = c(\"grey48\",\"red\")) +
  facet_grid(cols = vars(sampleloc),
             rows = vars(metric),
             scales = \"free_y\",
             labeller = as_labeller(divlabs)) +
  theme(strip.background = element_rect(fill = \"white\"),
        legend.position = \"none\",
        axis.text.x = element_text(angle = 45,
                                   hjust = 1,
                                   vjust = 1),
        axis.title.x = element_blank(),
        axis.title.y = element_blank()) -> divPlot

divPlot

ggsave(plot = divPlot,
       \"diversity.metrics.plots.tiff\",
       height = 12,
       width = 8,
       units = c(\"in\"))
```

<!-- rnb-source-end -->
<!-- KNITR_ASIS_OUTPUT_TOKEN -->"
"0","```r
alphaVir$virus <- factor(alphaVir$virus,
                         levels = c(\"Human metapneumovirus\",\"Human rhinovirus\",\"Influenza A\",
                                    \"Parainfluenza virus 1\",\"Parainfluenza virus 2\",
                                    \"Parainfluenza virus 3\",\"Parainfluenza virus 4\",
                                    \"Respiratory syncytial virus\",\"Seasonal human coronavirus 229E\",
                                    \"Seasonal human coronavirus OC43\",\"None\"))

metrics

divlabs <- c(\"sinus\" = \"Sinus\",
             \"sputum\" = \"Sputum\",
             \"Observed\" = \"Observed\",
             \"Chao1\" = \"Chao1\",
             \"se.chao1\" = \"SE Chao1\",
             \"Shannon\" = \"Shannon\",
             \"Simpson\" = \"Simpson\")

alphaVir %>%
  pivot_longer(cols = c(\"Observed\",\"Chao1\",\"se.chao1\",\"Shannon\",\"Simpson\"),
               names_to = \"metric\",
               values_to = \"diversity\") -> alphaVir

ggplot(data = alphaVir %>%
           filter(!is.na(virus.bin)) %>%
         filter(metric != \"se.chao1\"),
         aes(x = virus.bin,
             y = diversity,
             shape = virus.bin,
             color = virus.bin)) +
  geom_boxplot() +
    scale_color_manual(name = \"Respiratory viral\ninfection status\",
                     values = c(\"grey48\",\"red\")) +
  facet_grid(cols = vars(sampleloc),
             rows = vars(metric),
             scales = \"free_y\",
             labeller = as_labeller(divlabs)) +
  theme(strip.background = element_rect(fill = \"white\"),
        legend.position = \"none\",
        axis.text.x = element_text(angle = 45,
                                   hjust = 1,
                                   vjust = 1),
        axis.title.x = element_blank(),
        axis.title.y = element_blank()) -> divPlot

divPlot

ggsave(plot = divPlot,
       \"diversity.metrics.plots.tiff\",
       height = 12,
       width = 8,
       units = c(\"in\"))
```"
